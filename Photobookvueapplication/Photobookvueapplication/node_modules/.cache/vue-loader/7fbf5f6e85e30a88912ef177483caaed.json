{"remainingRequest":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\src\\components\\HostHomePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\src\\components\\HostHomePage.vue","mtime":1556794956211},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\n    methods: {\n        Logout: function () {\n            var url = 'https://photobookwebapi1.azurewebsites.net/api/Account/Logout';\n\n            //var datarecieved = this.datarecievedp;\n            var router = this.$router;\n            var cookie = this.$cookie;\n            \n            fetch(url, {\n                method: 'POST',\n                credentials: 'include',\n                headers: new Headers({\n                    'Content-Type': 'application/json', 'Accept': 'application/json'\n                }),\n                mode: 'cors'\n            }).then(function (response) {\n                if (response.status == '200' || response.status == '204') {\n                    cookie.delete('LoggedIn')\n                    cookie.delete('LoggedInEmail')\n                    router.push({ name: 'Home' })\n\n                }\n                else {\n                    alert(\"Failed to log out\")\n                }\n             })\n        },\n        getData: function () {\n            var accounturl = 'https://photobookwebapi1.azurewebsites.net/api/Account/' + this.HostEmail;\n\n            var vuecomponent = this;\n\n            fetch(accounturl).then(function (response) {\n                if (response.status == '200') {\n                    response.json().then(data => ({ body: data })).\n                        then(function (data) {\n                            vuecomponent.HostName = data.body.name;\n                        })\n                }\n                else {\n                    alert(\"Error return to start page\")\n                }\n            });\n\n            var eventurl = 'https://photobookwebapi1.azurewebsites.net/api/Event/Host';\n\n            fetch(eventurl, {\n                credentials: 'include',\n                headers: new Headers({\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json',\n                    'Accept-Encoding': 'gzip, deflate, br',\n                    'Accept-Language': 'da, en-US; q=0.9, en; q=0.8, de; q=0.7, nb; q=0.6'\n\n                }),\n                mode: 'cors'\n            })\n                .then(function (response) {\n                    if (response.status == '200') {\n                        response.json()\n                            .then(data => ({ body: data }))\n                            .then(function (data) {\n                                vuecomponent.HostEvents = data.body;\n                            })\n                    }\n                });\n            }\n    },\n    data() {\n        return {\n            HostEvents: [],\n            HostID: null,\n            HostName: null,\n            HostPassword: null,\n            HostEmail: this.$cookie.get('LoggedInEmail'),\n        }\n    },\n    beforeMount() {\n        this.getData()\n    },\n    name: 'HostHomePage',\n    props: {\n    }\n\n};\n\n",{"version":3,"sources":["HostHomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"HostHomePage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"WrapperInternalPage\" class=\"Wrapper\">\r\n        <a class=\"alignleft\">Welcome {{HostName}} </a>\r\n        <router-link to=\"/AddEvent\">\r\n            <input class=\"smallbuttonright\" type=\"button\" value=\"Add Event\" />\r\n        </router-link>\r\n        <input class=\"smallbuttonright\" type=\"button\" value=\"Delete Event\" />\r\n        <input class=\"smallbuttonright\" type=\"button\" v-on:click=\"Logout\" value=\"Logout\" />\r\n\r\n        <br />\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n\r\n        methods: {\r\n            Logout: function () {\r\n                var url = 'https://photobookwebapi1.azurewebsites.net/api/Account/Logout';\r\n\r\n                //var datarecieved = this.datarecievedp;\r\n                var router = this.$router;\r\n                var cookie = this.$cookie;\r\n                \r\n                fetch(url, {\r\n                    method: 'POST',\r\n                    credentials: 'include',\r\n                    headers: new Headers({\r\n                        'Content-Type': 'application/json', 'Accept': 'application/json'\r\n                    }),\r\n                    mode: 'cors'\r\n                }).then(function (response) {\r\n                    if (response.status == '200' || response.status == '204') {\r\n                        cookie.delete('LoggedIn')\r\n                        cookie.delete('LoggedInEmail')\r\n                        router.push({ name: 'Home' })\r\n\r\n                    }\r\n                    else {\r\n                        alert(\"Failed to log out\")\r\n                    }\r\n                 })\r\n            },\r\n            getData: function () {\r\n                var accounturl = 'https://photobookwebapi1.azurewebsites.net/api/Account/' + this.HostEmail;\r\n\r\n                var vuecomponent = this;\r\n\r\n                fetch(accounturl).then(function (response) {\r\n                    if (response.status == '200') {\r\n                        response.json().then(data => ({ body: data })).\r\n                            then(function (data) {\r\n                                vuecomponent.HostName = data.body.name;\r\n                            })\r\n                    }\r\n                    else {\r\n                        alert(\"Error return to start page\")\r\n                    }\r\n                });\r\n\r\n                var eventurl = 'https://photobookwebapi1.azurewebsites.net/api/Event/Host';\r\n\r\n                fetch(eventurl, {\r\n                    credentials: 'include',\r\n                    headers: new Headers({\r\n                        'Content-Type': 'application/json',\r\n                        'Accept': 'application/json',\r\n                        'Accept-Encoding': 'gzip, deflate, br',\r\n                        'Accept-Language': 'da, en-US; q=0.9, en; q=0.8, de; q=0.7, nb; q=0.6'\r\n\r\n                    }),\r\n                    mode: 'cors'\r\n                })\r\n                    .then(function (response) {\r\n                        if (response.status == '200') {\r\n                            response.json()\r\n                                .then(data => ({ body: data }))\r\n                                .then(function (data) {\r\n                                    vuecomponent.HostEvents = data.body;\r\n                                })\r\n                        }\r\n                    });\r\n                }\r\n        },\r\n        data() {\r\n            return {\r\n                HostEvents: [],\r\n                HostID: null,\r\n                HostName: null,\r\n                HostPassword: null,\r\n                HostEmail: this.$cookie.get('LoggedInEmail'),\r\n            }\r\n        },\r\n        beforeMount() {\r\n            this.getData()\r\n        },\r\n        name: 'HostHomePage',\r\n        props: {\r\n        }\r\n\r\n    };\r\n\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}