{"remainingRequest":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\babel-loader\\lib\\index.js!C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\src\\components\\hostlogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\src\\components\\hostlogin.vue","mtime":1557356803968},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"C:\\\\PhotoBookVueApplication\\\\Photobookvueapplication\\\\Photobookvueapplication\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  methods: {\n    autoLogin: function autoLogin() {\n      if (this.$cookie.get('LoggedIn') == 'True') {\n        var Email = this.$cookie.get('LoggedInEmail');\n        this.$router.push({\n          name: 'HostHomePage',\n          params: {\n            HostEmail: Email\n          }\n        });\n      }\n    },\n    postHostLogin: function postHostLogin() {\n      var url = 'https://photobookwebapi1.azurewebsites.net/api/Account/Login';\n      var dataToBeSend = {\n        userName: this.HostEmail,\n        passWord: this.HostPassword\n      }; //var datarecieved = this.datarecievedp;\n\n      var router = this.$router;\n      var cookie = this.$cookie;\n      var vuecomponent = this;\n\n      if (cookie.get('LoggedIn') == 'True') {\n        router.push({\n          name: 'HostHomePage',\n          params: {\n            HostEmail: dataToBeSend.userName\n          }\n        });\n      } else {\n        fetch(url, {\n          method: 'POST',\n          credentials: 'include',\n          headers: new Headers({\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          }),\n          mode: 'cors',\n          body: _JSON$stringify(dataToBeSend)\n        }).then(function (response) {\n          if (response.status == '200' || response.status == '204') {\n            cookie.set('LoggedIn', 'True');\n            cookie.set('LoggedInEmail', vuecomponent.HostEmail);\n            router.push({\n              name: 'HostHomePage',\n              params: {\n                HostEmail: dataToBeSend.userName\n              }\n            });\n          } else {\n            alert(\"Email or password was wrong\");\n          }\n        });\n      }\n    }\n  },\n  data: function data() {\n    return {\n      HostEmail: null,\n      HostPassword: null,\n      HostId: null,\n      HostName: null\n    };\n  },\n  beforeMount: function beforeMount() {\n    this.autoLogin();\n  },\n  name: 'hostlogin',\n  props: {}\n};",{"version":3,"sources":["hostlogin.vue"],"names":[],"mappings":";;;;;;;;;;;;AAaA,eAAA;AAGA,WAAA;AACA,eAAA,qBAAA;AACA,UAAA,KAAA,OAAA,CAAA,GAAA,CAAA,UAAA,KAAA,MAAA,EAAA;AACA,YAAA,QAAA,KAAA,OAAA,CAAA,GAAA,CAAA,eAAA,CAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,cAAA;AAAA,kBAAA;AAAA,uBAAA;AAAA;AAAA,SAAA;AACA;AACA,KANA;AAOA,mBAAA,yBAAA;AACA,UAAA,MAAA,8DAAA;AAEA,UAAA,eAAA;AACA,kBAAA,KAAA,SADA;AAEA,kBAAA,KAAA;AAFA,OAAA,CAHA,CASA;;AACA,UAAA,SAAA,KAAA,OAAA;AACA,UAAA,SAAA,KAAA,OAAA;AACA,UAAA,eAAA,IAAA;;AAEA,UAAA,OAAA,GAAA,CAAA,UAAA,KAAA,MAAA,EAAA;AACA,eAAA,IAAA,CAAA;AAAA,gBAAA,cAAA;AAAA,kBAAA;AAAA,uBAAA,aAAA;AAAA;AAAA,SAAA;AACA,OAFA,MAGA;AACA,cAAA,GAAA,EAAA;AACA,kBAAA,MADA;AAEA,uBAAA,SAFA;AAGA,mBAAA,IAAA,OAAA,CAAA;AACA,4BAAA,kBADA;AACA,sBAAA;AADA,WAAA,CAHA;AAMA,gBAAA,MANA;AAOA,gBAAA,gBAAA,YAAA;AAPA,SAAA,EASA,IATA,CASA,UAAA,QAAA,EAAA;AACA,cAAA,SAAA,MAAA,IAAA,KAAA,IAAA,SAAA,MAAA,IAAA,KAAA,EAAA;AACA,mBAAA,GAAA,CAAA,UAAA,EAAA,MAAA;AACA,mBAAA,GAAA,CAAA,eAAA,EAAA,aAAA,SAAA;AAEA,mBAAA,IAAA,CAAA;AAAA,oBAAA,cAAA;AAAA,sBAAA;AAAA,2BAAA,aAAA;AAAA;AAAA,aAAA;AACA,WALA,MAMA;AACA,kBAAA,6BAAA;AACA;AAEA,SApBA;AAqBA;AAEA;AAhDA,GAHA;AAqDA,MArDA,kBAqDA;AACA,WAAA;AACA,iBAAA,IADA;AAEA,oBAAA,IAFA;AAGA,cAAA,IAHA;AAIA,gBAAA;AAJA,KAAA;AAOA,GA7DA;AA8DA,aA9DA,yBA8DA;AACA,SAAA,SAAA;AACA,GAhEA;AAiEA,QAAA,WAjEA;AAkEA,SAAA;AAlEA,CAAA","sourcesContent":["<template>\r\n    <div id=\"Wrapper\">\r\n        <img src=\"images/photobooktitle.png\" width=\"90%\" height=\"90%\" />\r\n        <form>\r\n            <input class=\"textbox\" type=\"email\" v-model=\"HostEmail\"  placeholder=\"Email\" /> <br /> <br />\r\n            <input class=\"textbox\" type=\"password\" v-model=\"HostPassword\" placeholder=\"Password\" /> <br /> <br />\r\n            <input class=\"button\" type=\"button\" v-on:click=\"postHostLogin\" value=\"Click to login as host\" width=\"100px\" Height=\"50px\" /> <br />\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    export default {\r\n\r\n\r\n        methods: {\r\n            autoLogin: function () {\r\n                if (this.$cookie.get('LoggedIn') == 'True') {\r\n                    var Email = this.$cookie.get('LoggedInEmail'); \r\n                    this.$router.push({ name: 'HostHomePage', params: { HostEmail: Email } })\r\n                }\r\n            },\r\n            postHostLogin: function () {\r\n                var url = 'https://photobookwebapi1.azurewebsites.net/api/Account/Login';\r\n\r\n                var dataToBeSend = {\r\n                    userName: this.HostEmail,\r\n                    passWord: this.HostPassword\r\n                    \r\n                };\r\n\r\n                //var datarecieved = this.datarecievedp;\r\n                var router = this.$router;\r\n                var cookie = this.$cookie;\r\n                var vuecomponent = this;\r\n\r\n                if (cookie.get('LoggedIn') == 'True') {\r\n                    router.push({ name: 'HostHomePage', params: { HostEmail: dataToBeSend.userName } })\r\n                }\r\n                else {\r\n                    fetch(url, {\r\n                        method: 'POST',\r\n                        credentials: 'include',\r\n                        headers: new Headers({\r\n                            'Content-Type': 'application/json', 'Accept': 'application/json'\r\n                        }),\r\n                        mode: 'cors',\r\n                        body: JSON.stringify(dataToBeSend)\r\n\r\n                    }).then(function (response) {\r\n                        if (response.status == '200' || response.status == '204') {\r\n                            cookie.set('LoggedIn', 'True')\r\n                            cookie.set('LoggedInEmail', vuecomponent.HostEmail)\r\n                            \r\n                            router.push({ name: 'HostHomePage', params: { HostEmail: dataToBeSend.userName } })\r\n                        }\r\n                        else {\r\n                            alert(\"Email or password was wrong\")\r\n                        }\r\n\r\n                    })\r\n                }\r\n                 \r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                HostEmail: null,\r\n                HostPassword: null,\r\n                HostId: null,\r\n                HostName: null\r\n                \r\n                }\r\n        },\r\n        beforeMount() {\r\n            this.autoLogin()\r\n        },\r\n        name: 'hostlogin',\r\n        props: {\r\n            \r\n        }\r\n\r\n\r\n\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/components"}]}