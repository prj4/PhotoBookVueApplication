{"remainingRequest":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\thread-loader\\dist\\cjs.js!C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\babel-loader\\lib\\index.js!C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\src\\components\\HostHomePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\src\\components\\HostHomePage.vue","mtime":1558992146245},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PhotoBookVueApplication\\Photobookvueapplication\\Photobookvueapplication\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  methods: {\n    Logout: function Logout() {\n      var url = 'https://photobookwebapi1.azurewebsites.net/api/Account/Logout';\n      var router = this.$router;\n      var cookie = this.$cookie;\n      fetch(url, {\n        method: 'POST',\n        credentials: 'include',\n        headers: new Headers({\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }),\n        mode: 'cors'\n      }).then(function (response) {\n        if (response.status == '200' || response.status == '204') {\n          cookie.delete('LoggedInHost');\n          cookie.delete('LoggedInEmail');\n          cookie.delete('LoggedInHostName');\n          cookie.delete('currenteventpin');\n          cookie.delete('currenteventname');\n          router.push({\n            name: 'Home'\n          });\n        } else {\n          alert(\"Failed to log out\");\n        }\n      });\n    },\n    getData: function getData() {\n      var accounturl = 'https://photobookwebapi1.azurewebsites.net/api/Account/' + this.HostEmail;\n      var vuecomponent = this;\n      fetch(accounturl).then(function (response) {\n        if (response.status == '200') {\n          response.json().then(function (data) {\n            return {\n              body: data\n            };\n          }).then(function (data) {\n            vuecomponent.HostName = data.body.name;\n            vuecomponent.$cookie.set('LoggedInHostName', data.body.name);\n          });\n        } else {\n          alert(\"Error return to start page\");\n        }\n      });\n    },\n    getEvents: function getEvents() {\n      var eventurl = 'https://photobookwebapi1.azurewebsites.net/api/Event/Host';\n      var vuecomponent = this;\n      fetch(eventurl, {\n        credentials: 'include',\n        headers: new Headers({\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Accept-Encoding': 'gzip, deflate, br',\n          'Accept-Language': 'da, en-US; q=0.9, en; q=0.8, de; q=0.7, nb; q=0.6'\n        }),\n        mode: 'cors'\n      }).then(function (response) {\n        if (response.status == '200') {\n          response.json().then(function (data) {\n            return {\n              body: data\n            };\n          }).then(function (data) {\n            vuecomponent.HostEvents = data.body;\n          });\n        }\n      });\n    }\n  },\n  data: function data() {\n    return {\n      HostEvents: [\n        /*...*/\n      ],\n      HostID: null,\n      HostName: null,\n      HostPassword: null,\n      HostEmail: this.$cookie.get('LoggedInEmail')\n    };\n  },\n  beforeMount: function beforeMount() {\n    if (this.$cookie.get('LoggedInHost') != 'True') {\n      this.$router.push({\n        name: 'Home'\n      });\n      return;\n    }\n\n    this.getData();\n    this.getEvents();\n  },\n  name: 'HostHomePage',\n  props: {}\n};",{"version":3,"sources":["HostHomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,eAAA;AAEA,WAAA;AACA,YAAA,kBAAA;AACA,UAAA,MAAA,+DAAA;AAEA,UAAA,SAAA,KAAA,OAAA;AACA,UAAA,SAAA,KAAA,OAAA;AAEA,YAAA,GAAA,EAAA;AACA,gBAAA,MADA;AAEA,qBAAA,SAFA;AAGA,iBAAA,IAAA,OAAA,CAAA;AACA,0BAAA,kBADA;AACA,oBAAA;AADA,SAAA,CAHA;AAMA,cAAA;AANA,OAAA,EAOA,IAPA,CAOA,UAAA,QAAA,EAAA;AACA,YAAA,SAAA,MAAA,IAAA,KAAA,IAAA,SAAA,MAAA,IAAA,KAAA,EAAA;AACA,iBAAA,MAAA,CAAA,cAAA;AACA,iBAAA,MAAA,CAAA,eAAA;AACA,iBAAA,MAAA,CAAA,kBAAA;AACA,iBAAA,MAAA,CAAA,iBAAA;AACA,iBAAA,MAAA,CAAA,kBAAA;AACA,iBAAA,IAAA,CAAA;AAAA,kBAAA;AAAA,WAAA;AAEA,SARA,MASA;AACA,gBAAA,mBAAA;AACA;AACA,OApBA;AAqBA,KA5BA;AA6BA,aAAA,mBAAA;AACA,UAAA,aAAA,4DAAA,KAAA,SAAA;AAEA,UAAA,eAAA,IAAA;AAEA,YAAA,UAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,SAAA,MAAA,IAAA,KAAA,EAAA;AACA,mBAAA,IAAA,GAAA,IAAA,CAAA;AAAA,mBAAA;AAAA,oBAAA;AAAA,aAAA;AAAA,WAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,yBAAA,QAAA,GAAA,KAAA,IAAA,CAAA,IAAA;AACA,yBAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,KAAA,IAAA,CAAA,IAAA;AACA,WAJA;AAKA,SANA,MAOA;AACA,gBAAA,4BAAA;AACA;AACA,OAXA;AAYA,KA9CA;AA+CA,eAAA,qBAAA;AACA,UAAA,WAAA,2DAAA;AACA,UAAA,eAAA,IAAA;AAEA,YAAA,QAAA,EAAA;AACA,qBAAA,SADA;AAEA,iBAAA,IAAA,OAAA,CAAA;AACA,0BAAA,kBADA;AAEA,oBAAA,kBAFA;AAGA,6BAAA,mBAHA;AAIA,6BAAA;AAJA,SAAA,CAFA;AASA,cAAA;AATA,OAAA,EAWA,IAXA,CAWA,UAAA,QAAA,EAAA;AACA,YAAA,SAAA,MAAA,IAAA,KAAA,EAAA;AACA,mBAAA,IAAA,GACA,IADA,CACA;AAAA,mBAAA;AAAA,oBAAA;AAAA,aAAA;AAAA,WADA,EAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AAEA,yBAAA,UAAA,GAAA,KAAA,IAAA;AACA,WALA;AAMA;AACA,OApBA;AAqBA;AAxEA,GAFA;AA4EA,MA5EA,kBA4EA;AACA,WAAA;AACA,kBAAA;AAAA;AAAA,OADA;AAEA,cAAA,IAFA;AAGA,gBAAA,IAHA;AAIA,oBAAA,IAJA;AAKA,iBAAA,KAAA,OAAA,CAAA,GAAA,CAAA,eAAA;AALA,KAAA;AAOA,GApFA;AAqFA,aArFA,yBAqFA;AACA,QAAA,KAAA,OAAA,CAAA,GAAA,CAAA,cAAA,KAAA,MAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA;AAAA,OAAA;AACA;AACA;;AAGA,SAAA,OAAA;AACA,SAAA,SAAA;AACA,GA9FA;AA+FA,QAAA,cA/FA;AAgGA,SAAA;AAhGA,CAAA","sourcesContent":["<template>\r\n    <div id=\"WrapperInternalPage\" class=\"Wrapper\">\r\n        <div>\r\n            <a class=\"alignleft\">Welcome {{HostName}} </a>\r\n            <router-link to=\"/AddEvent\">\r\n                <input class=\"smallbuttonright\" type=\"button\" value=\"Add Event\" />\r\n            </router-link>\r\n            <input class=\"smallbuttonright\" type=\"button\" v-on:click=\"Logout\" value=\"Logout\" />\r\n        </div>\r\n\r\n        <br /> <br />\r\n             <div v-for=\"HostEvent in HostEvents\" v-bind:key=\"HostEvent.pin\">\r\n                   <router-link tag=\"div\" class=\"littlepadding\" :to=\"{name: 'HostEventPage', params: {Email: HostEmail, HostName: HostName, EventName: HostEvent.name, Pin: HostEvent.pin}}\">\r\n                       <div class=\"EventTile\">\r\n                            <table class=\"tg\" align=\"left\">\r\n                               <tr>\r\n                                   <th class=\"tg-mcqj\">EventName:</th>\r\n                                   <th class=\"tg-73oq\">{{HostEvent.name}}</th>\r\n                               </tr>\r\n                               <tr>\r\n                                   <td class=\"tg-mcqj\">Pin:</td>\r\n                                   <td class=\"tg-73oq\">{{HostEvent.pin}}</td>\r\n                               </tr>\r\n                           </table>\r\n\r\n\r\n                       </div>\r\n                   </router-link>\r\n              </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n\r\n        methods: {\r\n            Logout: function () {\r\n                var url = 'https://photobookwebapi1.azurewebsites.net/api/Account/Logout';\r\n                \r\n                var router = this.$router;\r\n                var cookie = this.$cookie;\r\n                \r\n                fetch(url, {\r\n                    method: 'POST',\r\n                    credentials: 'include',\r\n                    headers: new Headers({\r\n                        'Content-Type': 'application/json', 'Accept': 'application/json'\r\n                    }),\r\n                    mode: 'cors'\r\n                }).then(function (response) {\r\n                    if (response.status == '200' || response.status == '204') {\r\n                        cookie.delete('LoggedInHost')\r\n                        cookie.delete('LoggedInEmail')\r\n                        cookie.delete('LoggedInHostName')\r\n                        cookie.delete('currenteventpin')\r\n                        cookie.delete('currenteventname')\r\n                        router.push({ name: 'Home' })\r\n\r\n                    }\r\n                    else {\r\n                        alert(\"Failed to log out\")\r\n                    }\r\n                 })\r\n            },\r\n            getData: function () {\r\n                var accounturl = 'https://photobookwebapi1.azurewebsites.net/api/Account/' + this.HostEmail;\r\n\r\n                var vuecomponent = this;\r\n\r\n                fetch(accounturl).then(function (response) {\r\n                    if (response.status == '200') {\r\n                        response.json().then(data => ({ body: data })).\r\n                            then(function (data) {\r\n                                vuecomponent.HostName = data.body.name;\r\n                                vuecomponent.$cookie.set('LoggedInHostName', data.body.name)\r\n                            })\r\n                    }\r\n                    else {\r\n                        alert(\"Error return to start page\")\r\n                    }\r\n                });\r\n            },\r\n            getEvents: function () {\r\n                var eventurl = 'https://photobookwebapi1.azurewebsites.net/api/Event/Host';\r\n                var vuecomponent = this;\r\n\r\n                fetch(eventurl, {\r\n                    credentials: 'include',\r\n                    headers: new Headers({\r\n                        'Content-Type': 'application/json',\r\n                        'Accept': 'application/json',\r\n                        'Accept-Encoding': 'gzip, deflate, br',\r\n                        'Accept-Language': 'da, en-US; q=0.9, en; q=0.8, de; q=0.7, nb; q=0.6'\r\n\r\n                    }),\r\n                    mode: 'cors'\r\n                })\r\n                    .then(function (response) {\r\n                        if (response.status == '200') {\r\n                            response.json()\r\n                                .then(data => ({ body: data }))\r\n                                .then(function (data) {\r\n\r\n                                    vuecomponent.HostEvents = data.body;\r\n                                })\r\n                        }\r\n                    });\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                HostEvents: [/*...*/],\r\n                HostID: null,\r\n                HostName: null,\r\n                HostPassword: null,\r\n                HostEmail: this.$cookie.get('LoggedInEmail'),\r\n            }\r\n        },\r\n        beforeMount() {\r\n            if (this.$cookie.get('LoggedInHost') != 'True') {\r\n                this.$router.push({ name: 'Home' })\r\n                return;\r\n            }\r\n            \r\n\r\n            this.getData();\r\n            this.getEvents();\r\n        },\r\n        name: 'HostHomePage',\r\n        props: {\r\n        }\r\n\r\n    };\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .tg {\r\n        border-collapse: collapse;\r\n        border-spacing: 0;\r\n        border: none;\r\n    }\r\n\r\n        .tg td {\r\n            font-size: 14px;\r\n            padding: 10px 5px;\r\n            border-style: solid;\r\n            border-width: 0px;\r\n            overflow: hidden;\r\n            word-break: normal;\r\n        }\r\n\r\n        .tg th {\r\n            \r\n            font-size: 14px;\r\n            font-weight: normal;\r\n            padding: 10px 5px;\r\n            border-style: solid;\r\n            border-width: 0px;\r\n            overflow: hidden;\r\n            word-break: normal;\r\n        }\r\n\r\n        .tg .tg-mcqj {\r\n            font-weight: bold;\r\n            border-color: #000000;\r\n            text-align: left;\r\n            vertical-align: top\r\n        }\r\n\r\n        .tg .tg-73oq {\r\n            border-color: #000000;\r\n            text-align: left;\r\n            vertical-align: top\r\n        }\r\n    \r\n    \r\n</style>"],"sourceRoot":"src/components"}]}